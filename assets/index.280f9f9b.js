import{D as b,a as y,j as N,r as f,c as D,u as x,R as T,b as A}from"./vendor.84db66cc.js";const w=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}};w();function v(a){const i=/^(F[-A-Z0-9]{15}) (\d+) \?\? (.+)$/,l=a.match(i);if(l){const t=l[1],n=l[2],r=l[3];return{serialNumber:t,careTicketNumber:n,company:r}}const o=/^\d{2}. (F[-A-Z0-9]{15}) (\d+) ([_A-Z]+) -+ (.+)$/,e=a.match(o);if(e){const t=e[1],n=e[2],r=e[3],c=e[4];return{serialNumber:t,careTicketNumber:n,country:r,summary:c}}}const C=function(a){var i=b.now().setZone("America/Vancouver").minus(y.fromObject({weeks:1}));let l=i.year,o=i.weekNumber,e=[];a=a.trim();const t=a.match(/^Y([0-9]{2})WK([0-9]{2})/);t&&(l=2e3+parseInt(t[1]),o=parseInt(t[2]),a.slice(a.indexOf(`
`)+1));const n=/^(\s*[A-Z]{3}\s*)$/m;let r=a.split(n);for(let c=0;c<r.length;c++){let u=r[c];if(u.match(n)&&(u=u.trim(),c+1<r.length)){c+=1;let m=r[c].trim();e.push({name:u,units:m.split(`
`).map(v).filter(g=>g!==void 0)})}}return{year:l,week:o,models:e}},s=N.exports.jsx,d=N.exports.jsxs;function h({className:a,text:i,i_unit:l,i_model:o,attribute:e,onChange:t}){const[n,r]=f.exports.useState(i);return s("td",{className:a,children:s("input",{className:"w-full opacity-80",type:"text",value:n,onChange:c=>{r(c.target.value)},onBlur:()=>{n&&t(o,l,e,n)}})})}function R({data:a,onChange:i}){if(!a)return s("div",{children:"Invalid Data"});const l=(o,e,t,n)=>{i(o,e,t,n.trim().replaceAll(" ","_"))};return d("div",{className:"h-full w-full",children:[d("h1",{className:"font-mono text-sm font-bold py-3",children:["Year: ",a.year,"  Week: ",a.week]}),d("table",{className:"text-sm font-mono w-full",children:[s("thead",{className:"font-bold",children:d("tr",{children:[s("td",{children:"Serial Number"}),s("td",{children:"Ticket"}),s("td",{children:"Country"}),s("td",{children:"Summary"}),s("td",{children:"Company"})]})}),s("tbody",{children:a.models.flatMap((o,e)=>o.units.map((t,n)=>d("tr",{className:"hover:bg-slate-200",children:[s("td",{className:"select-all w-[12em]",children:t.serialNumber}),s("td",{className:"select-all w-[6em]",children:t.careTicketNumber}),s(h,{className:"select-all w-[12em] pr-2",i_model:e,i_unit:n,attribute:"country",onChange:l,text:t.country}),s(h,{className:"w-[35em] pr-2",i_model:e,i_unit:n,attribute:"summary",onChange:i,text:t.summary}),s("td",{children:t.company})]},`${e} ${n}`)))})]})]})}function E(a){const i=f.exports.useRef(null);return f.exports.useEffect(()=>{if(!i.current)return;const l=i.current;l.textContent=`
Y22WK03 - 10 units

FMG
01. FMG3HE3R16000139 5732527 GERMANY -------- HDD failed (no HDD info in log files)
02. FM-4KE3R15000004 5728948 UNITED_KINGDOM - Suspected defective flash (CF)

FAZ
01. FL-2HFTB20000262 5736423 UNITED_ARAB ---- Defective PSU
02. FL-4HE3R16900396 5740980 FRANCE --------- HDD failed (no HDD info in log files)
03. FL-4HE3R16900660 5731308 JAPAN ---------- HDD failed (no HDD info in log files)
04. FL-4HET318900062 5740254 TAIWAN --------- HDD failed (no HDD info in log files)
05. FL-2KE3R17000082 5733921 UNITED_STATES -- HDD failed (no HDD info in log files)
06. FL-2KET321000017 5734114 JAPAN ---------- DOA. HDD failed (ST3000NM000A-2J1100 TN02)
07. FL3K5GTA20900030 5725611 UNITED_STATES -- No console output
08. FL-3KE3R15000033 5725265 CHINA ---------- HDD failed (ST2000NM0033-9ZM175 GA0A)
`,a.onChange(l.textContent)},[]),s("textarea",{ref:i,className:"border p-2 w-full h-full font-mono text-xs",onChange:l=>{let o=l;a.onChange(o.target.value)}})}const p=a=>a.toString().padStart(2,"0");function F({data:a}){if(!a)return s("div",{children:"Invalid Data"});const{year:i,week:l,models:o}=a,e=o.flatMap(n=>n.units.length).reduce((n,r)=>n+r),t=o.flatMap(n=>n.units.map(r=>{var c,u;return(u=(c=r.country)==null?void 0:c.length)!=null?u:0})).reduce((n,r)=>Math.max(n,r));return console.log({year:i,week:l,nUnit:e,maxCountryLength:t}),d("pre",{children:["Y",p(i%100),"WK",p(l)," - ",e," units",s("br",{}),o.map(n=>`
`+n.name+`
`+n.units.map((r,c)=>{var u,m;return`${p(c+1)}. ${r.serialNumber} ${r.careTicketNumber} ${r.country} ${"-".repeat(t+1-((m=(u=r.country)==null?void 0:u.length)!=null?m:0))} ${r.summary}
`}).reduce((r,c)=>r+c))]})}function H(){const[a,i]=f.exports.useState("table"),l=(r,c)=>s("li",{className:D("p-1 w-40 text-center  rounded-lg shadow-md",{"text-white bg-slate-600":a===r,"text-black border ":a!==r}),onClick:()=>{i(r)},children:c}),[o,e]=f.exports.useState(),t=r=>{let c=C(r);c&&e(c)},n=(r,c,u,m)=>{!o||e(x(o,{models:{[r]:{units:{[c]:{[u]:{$set:m}}}}}}))};return s("div",{className:"h-screen",children:d("div",{className:"flex flex-col p-2 h-full",children:[d("ul",{className:"flex text-lg w-full h-30 space-x-2 mb-2 select-none",children:[l("input","Input"),l("table","Table"),l("output","Output")]}),s("div",{className:"flex-1",children:a==="input"?s(E,{data:o,onChange:t}):a==="table"?s(R,{data:o,onChange:n}):a==="output"?s(F,{data:o}):"not a valid tab"})]})})}T.render(s(A.StrictMode,{children:s(H,{})}),document.getElementById("root"));
